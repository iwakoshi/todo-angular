(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PXP5:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),c=i("tyNb"),o=i("3Pt+"),s=i("fXoL"),a={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},r={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},l={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},f={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},d=i("lJxs"),b=i("iqUP");class p{constructor(t){this.finished=!1,this.createdAt=b.firestore.FieldValue.serverTimestamp(),this.description=t}}var u=i("S/Aq");let h=(()=>{class t{constructor(t){this.afs=t,this.taskCollectionRef=this.afs.collection("tasks"),this.tasks$=this.taskCollectionRef.snapshotChanges().pipe(Object(d.a)(t=>t.map(t=>Object.assign({$key:t.payload.doc.id},t.payload.doc.data()))))}add(t){t&&t.trim().length&&this.taskCollectionRef.add(Object.assign({},new p(t)))}update(t){this.taskCollectionRef.doc(t.$key).update(t)}delete(t){this.taskCollectionRef.doc(t.$key).delete()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(u.a))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=i("6NWb");const m=["editDescription"],g=["createDescription"];function y(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",10),s.Ob(1,"button",11),s.Wb("click",(function(e){s.fc(t);const i=s.Yb().$implicit;return s.Yb().toggleStatus(i)})),s.Lb(2,"fa-icon",12),s.Mb(),s.Lb(3,"span",13),s.Mb()}if(2&t){const t=s.Yb().$implicit,e=s.Yb();s.yb(1),s.kc("color",t.finished?"#85bf6b":null),s.yb(1),s.dc("icon",e.faCheck),s.yb(1),s.Cb("task-finished",t.finished),s.dc("innerText",t.description)}}function v(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",14),s.Ob(1,"input",15,16),s.Wb("keyup.escape",(function(e){return s.fc(t),s.Yb(2).clear()})),s.Mb(),s.Mb()}if(2&t){const t=s.Yb(2);s.yb(1),s.dc("formControl",t.selectedDescription)("placeholder",t.selectedDescription.value.description)}}function M(t,e){if(1&t){const t=s.Pb();s.Ob(0,"button",17),s.Wb("click",(function(e){s.fc(t);const i=s.Yb().$implicit;return s.Yb().startEdit(i)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){const t=s.Yb(2);s.yb(1),s.dc("icon",t.faPen)}}function C(t,e){if(1&t){const t=s.Pb();s.Ob(0,"button",18),s.Wb("click",(function(e){s.fc(t);const i=s.Yb().$implicit;return s.Yb().delete(i)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){const t=s.Yb(2);s.yb(1),s.dc("icon",t.faTrashAlt)}}function O(t,e){if(1&t){const t=s.Pb();s.Ob(0,"button",19),s.Wb("click",(function(e){s.fc(t);const i=s.Yb().$implicit;return s.Yb().stopEdit(i)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){const t=s.Yb(2);s.yb(1),s.dc("icon",t.faSave)}}function P(t,e){if(1&t&&(s.Ob(0,"div",4),s.lc(1,y,4,4,"div",5),s.lc(2,v,3,2,"div",6),s.Ob(3,"div"),s.lc(4,M,2,1,"button",7),s.lc(5,C,2,1,"button",8),s.lc(6,O,2,1,"button",9),s.Mb(),s.Mb()),2&t){const t=e.$implicit,i=s.Yb();s.yb(1),s.dc("ngIf",i.editing!==t),s.yb(1),s.dc("ngIf",i.editing===t),s.yb(2),s.dc("ngIf",i.editing!==t),s.yb(1),s.dc("ngIf",i.editing!==t),s.yb(1),s.dc("ngIf",i.editing===t)}}const w=[{path:"",component:(()=>{class t{constructor(t,e){this.taskService=t,this.route=e,this.createTask=new s.n(!1),this.description=new o.b(""),this.selectedDescription=new o.b(""),this.faPen=r,this.faSave=l,this.faCheck=a,this.faTrashAlt=f}ngOnInit(){this.tasks$=this.taskService.tasks$,this.route.params.subscribe(t=>this.filter=t.finished)}clear(){this.description.reset(),this.selectedDescription.reset(),this.editing=null,setTimeout(()=>{this.createDescription.nativeElement.focus()},0)}toggleStatus(t){t.finished=!t.finished,this.taskService.update(t)}create(){const t=this.description.value.trim();t.length&&this.taskService.add(t),this.clear()}startEdit(t){this.selectedDescription.setValue(t.description),this.editing=t,setTimeout(()=>{this.editDescription.nativeElement.focus()},0)}stopEdit(t){t.description=this.selectedDescription.value,this.taskService.update(t),this.clear()}delete(t){this.taskService.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(h),s.Kb(c.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["todo-task"]],viewQuery:function(t,e){var i;1&t&&(s.nc(m,!0),s.nc(g,!0)),2&t&&(s.ec(i=s.Xb())&&(e.editDescription=i.first),s.ec(i=s.Xb())&&(e.createDescription=i.first))},outputs:{createTask:"createTask"},decls:5,vars:4,consts:[["autocomplete","off","autofocus","","name","description","placeholder","What needs to be done?","required","","type","text",1,"task-input","mb-1","mt-5",3,"formControl","keyup.escape","keyup.enter"],["createDescription",""],[2,"display","flex","flex-direction","column"],["class","task-line","style","display: flex;justify-content: space-between;",4,"ngFor","ngForOf"],[1,"task-line",2,"display","flex","justify-content","space-between"],["style","color: #fff;",4,"ngIf"],["style","width: 100%;",4,"ngIf"],["aria-label","Edit task title","class","task-button","type","button","style","margin-right: .5rem;",3,"click",4,"ngIf"],["aria-label","Delete task","class","task-button","type","button",3,"click",4,"ngIf"],["aria-label","Save task","class","task-button","type","button",3,"click",4,"ngIf"],[2,"color","#fff"],["aria-label","Mark task as completed","type","button",1,"task-button",3,"click"],[3,"icon"],[1,"ml-1",3,"innerText"],[2,"width","100%"],["autocomplete","off","name","description","required","","type","text",1,"task-edit","ml-1",3,"formControl","placeholder","keyup.escape"],["editDescription",""],["aria-label","Edit task title","type","button",1,"task-button",2,"margin-right",".5rem",3,"click"],["aria-label","Delete task","type","button",1,"task-button",3,"click"],["aria-label","Save task","type","button",1,"task-button",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"input",0,1),s.Wb("keyup.escape",(function(t){return e.clear()}))("keyup.enter",(function(t){return e.create()})),s.Mb(),s.Ob(2,"div",2),s.lc(3,P,7,5,"div",3),s.Zb(4,"async"),s.Mb()),2&t&&(s.dc("formControl",e.description),s.yb(3),s.dc("ngForOf",s.ac(4,2,e.tasks$)))},directives:[o.a,o.f,o.d,o.c,n.i,n.j,k.a],pipes:[n.b],styles:['.task-input[_ngcontent-%COMP%]{height:61px;border:0;border-bottom:1px dotted #666;font-size:2rem}.task-edit[_ngcontent-%COMP%], .task-input[_ngcontent-%COMP%]{color:#fff;background:transparent;outline:none;width:100%;font-family:inherit}.task-edit[_ngcontent-%COMP%]{border:0;font-size:1.3rem}.task-form[_ngcontent-%COMP%]{margin-bottom:1rem}.task-button[_ngcontent-%COMP%]{outline:none;cursor:pointer;border:0;border-radius:50%;width:2rem;height:2rem;background:#2a2a2a;font-size:1rem;color:#555}.task-button[_ngcontent-%COMP%]:hover{color:#999}.task-line[_ngcontent-%COMP%]{border-bottom:1px dotted #666;line-height:3rem}.task-finished[_ngcontent-%COMP%]{color:#666;display:inline-block;text-decoration:none;position:relative}.task-finished[_ngcontent-%COMP%]:after{position:absolute;left:0;bottom:0;border-top:2px solid #85bf6b;width:0;height:46%;content:"";color:#666;width:100%}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]:not(:first-child){margin-left:12px}li[_ngcontent-%COMP%]:not(:first-child):before{padding-right:12px;content:"/";font-weight:300}a[_ngcontent-%COMP%]{color:#999;text-decoration:none}a.active[_ngcontent-%COMP%]{color:#fff}']}),t})(),pathMatch:"full"}];let x=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(e){return new(e||t)},imports:[[c.c.forChild(w)],c.c]}),t})();var D=i("PCNd");i.d(e,"TaskModule",(function(){return Y}));let Y=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(e){return new(e||t)},imports:[[n.c,x,D.a]]}),t})()}}]);