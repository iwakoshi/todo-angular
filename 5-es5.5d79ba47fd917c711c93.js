function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PXP5:function(t,e,i){"use strict";i.r(e);var n,c=i("ofXK"),o=i("tyNb"),a=i("3Pt+"),s=i("fXoL"),r={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},l={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},f={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},u={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},b=i("lJxs"),d=i("iqUP"),p=function t(e){_classCallCheck(this,t),this.finished=!1,this.createdAt=d.firestore.FieldValue.serverTimestamp(),this.description=e},h=i("S/Aq"),k=((n=function(){function t(e){_classCallCheck(this,t),this.afs=e,this.taskCollectionRef=this.afs.collection("tasks"),this.tasks$=this.taskCollectionRef.snapshotChanges().pipe(Object(b.a)((function(t){return t.map((function(t){return Object.assign({$key:t.payload.doc.id},t.payload.doc.data())}))})))}return _createClass(t,[{key:"add",value:function(t){t&&t.trim().length&&this.taskCollectionRef.add(Object.assign({},new p(t)))}},{key:"update",value:function(t){this.taskCollectionRef.doc(t.$key).update(t)}},{key:"delete",value:function(t){this.taskCollectionRef.doc(t.$key).delete()}}]),t}()).\u0275fac=function(t){return new(t||n)(s.Sb(h.a))},n.\u0275prov=s.Gb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),v=i("6NWb"),y=["editDescription"],m=["createDescription"];function g(t,e){if(1&t){var i=s.Pb();s.Ob(0,"div",10),s.Ob(1,"button",11),s.Wb("click",(function(t){s.fc(i);var e=s.Yb().$implicit;return s.Yb().toggleStatus(e)})),s.Lb(2,"fa-icon",12),s.Mb(),s.Lb(3,"span",13),s.Mb()}if(2&t){var n=s.Yb().$implicit,c=s.Yb();s.yb(1),s.kc("color",n.finished?"#85bf6b":null),s.yb(1),s.dc("icon",c.faCheck),s.yb(1),s.Cb("task-finished",n.finished),s.dc("innerText",n.description)}}function C(t,e){if(1&t){var i=s.Pb();s.Ob(0,"div",14),s.Ob(1,"input",15,16),s.Wb("keyup.escape",(function(t){return s.fc(i),s.Yb(2).clear()})),s.Mb(),s.Mb()}if(2&t){var n=s.Yb(2);s.yb(1),s.dc("formControl",n.selectedDescription)("placeholder",n.selectedDescription.value.description)}}function M(t,e){if(1&t){var i=s.Pb();s.Ob(0,"button",17),s.Wb("click",(function(t){s.fc(i);var e=s.Yb().$implicit;return s.Yb().startEdit(e)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){var n=s.Yb(2);s.yb(1),s.dc("icon",n.faPen)}}function O(t,e){if(1&t){var i=s.Pb();s.Ob(0,"button",18),s.Wb("click",(function(t){s.fc(i);var e=s.Yb().$implicit;return s.Yb().delete(e)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){var n=s.Yb(2);s.yb(1),s.dc("icon",n.faTrashAlt)}}function P(t,e){if(1&t){var i=s.Pb();s.Ob(0,"button",19),s.Wb("click",(function(t){s.fc(i);var e=s.Yb().$implicit;return s.Yb().stopEdit(e)})),s.Lb(1,"fa-icon",12),s.Mb()}if(2&t){var n=s.Yb(2);s.yb(1),s.dc("icon",n.faSave)}}function w(t,e){if(1&t&&(s.Ob(0,"div",4),s.lc(1,g,4,4,"div",5),s.lc(2,C,3,2,"div",6),s.Ob(3,"div"),s.lc(4,M,2,1,"button",7),s.lc(5,O,2,1,"button",8),s.lc(6,P,2,1,"button",9),s.Mb(),s.Mb()),2&t){var i=e.$implicit,n=s.Yb();s.yb(1),s.dc("ngIf",n.editing!==i),s.yb(1),s.dc("ngIf",n.editing===i),s.yb(2),s.dc("ngIf",n.editing!==i),s.yb(1),s.dc("ngIf",n.editing!==i),s.yb(1),s.dc("ngIf",n.editing===i)}}var _,x,D=[{path:"",component:(_=function(){function t(e,i){_classCallCheck(this,t),this.taskService=e,this.route=i,this.createTask=new s.n(!1),this.description=new a.b(""),this.selectedDescription=new a.b(""),this.faPen=l,this.faSave=f,this.faCheck=r,this.faTrashAlt=u}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.tasks$=this.taskService.tasks$,this.route.params.subscribe((function(e){return t.filter=e.finished}))}},{key:"clear",value:function(){var t=this;this.description.reset(),this.selectedDescription.reset(),this.editing=null,setTimeout((function(){t.createDescription.nativeElement.focus()}),0)}},{key:"toggleStatus",value:function(t){t.finished=!t.finished,this.taskService.update(t)}},{key:"create",value:function(){var t=this.description.value.trim();t.length&&this.taskService.add(t),this.clear()}},{key:"startEdit",value:function(t){var e=this;this.selectedDescription.setValue(t.description),this.editing=t,setTimeout((function(){e.editDescription.nativeElement.focus()}),0)}},{key:"stopEdit",value:function(t){t.description=this.selectedDescription.value,this.taskService.update(t),this.clear()}},{key:"delete",value:function(t){this.taskService.delete(t)}}]),t}(),_.\u0275fac=function(t){return new(t||_)(s.Kb(k),s.Kb(o.a))},_.\u0275cmp=s.Eb({type:_,selectors:[["todo-task"]],viewQuery:function(t,e){var i;1&t&&(s.nc(y,!0),s.nc(m,!0)),2&t&&(s.ec(i=s.Xb())&&(e.editDescription=i.first),s.ec(i=s.Xb())&&(e.createDescription=i.first))},outputs:{createTask:"createTask"},decls:5,vars:4,consts:[["autocomplete","off","autofocus","","name","description","placeholder","What needs to be done?","required","","type","text",1,"task-input","mb-1","mt-5",3,"formControl","keyup.escape","keyup.enter"],["createDescription",""],[2,"display","flex","flex-direction","column"],["class","task-line","style","display: flex;justify-content: space-between;",4,"ngFor","ngForOf"],[1,"task-line",2,"display","flex","justify-content","space-between"],["style","color: #fff;",4,"ngIf"],["style","width: 100%;",4,"ngIf"],["aria-label","Edit task title","class","task-button","type","button","style","margin-right: .5rem;",3,"click",4,"ngIf"],["aria-label","Delete task","class","task-button","type","button",3,"click",4,"ngIf"],["aria-label","Save task","class","task-button","type","button",3,"click",4,"ngIf"],[2,"color","#fff"],["aria-label","Mark task as completed","type","button",1,"task-button",3,"click"],[3,"icon"],[1,"ml-1",3,"innerText"],[2,"width","100%"],["autocomplete","off","name","description","required","","type","text",1,"task-edit","ml-1",3,"formControl","placeholder","keyup.escape"],["editDescription",""],["aria-label","Edit task title","type","button",1,"task-button",2,"margin-right",".5rem",3,"click"],["aria-label","Delete task","type","button",1,"task-button",3,"click"],["aria-label","Save task","type","button",1,"task-button",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"input",0,1),s.Wb("keyup.escape",(function(t){return e.clear()}))("keyup.enter",(function(t){return e.create()})),s.Mb(),s.Ob(2,"div",2),s.lc(3,w,7,5,"div",3),s.Zb(4,"async"),s.Mb()),2&t&&(s.dc("formControl",e.description),s.yb(3),s.dc("ngForOf",s.ac(4,2,e.tasks$)))},directives:[a.a,a.f,a.d,a.c,c.i,c.j,v.a],pipes:[c.b],styles:['.task-input[_ngcontent-%COMP%]{height:61px;border:0;border-bottom:1px dotted #666;font-size:2rem}.task-edit[_ngcontent-%COMP%], .task-input[_ngcontent-%COMP%]{color:#fff;background:transparent;outline:none;width:100%;font-family:inherit}.task-edit[_ngcontent-%COMP%]{border:0;font-size:1.3rem}.task-form[_ngcontent-%COMP%]{margin-bottom:1rem}.task-button[_ngcontent-%COMP%]{outline:none;cursor:pointer;border:0;border-radius:50%;width:2rem;height:2rem;background:#2a2a2a;font-size:1rem;color:#555}.task-button[_ngcontent-%COMP%]:hover{color:#999}.task-line[_ngcontent-%COMP%]{border-bottom:1px dotted #666;line-height:3rem}.task-finished[_ngcontent-%COMP%]{color:#666;display:inline-block;text-decoration:none;position:relative}.task-finished[_ngcontent-%COMP%]:after{position:absolute;left:0;bottom:0;border-top:2px solid #85bf6b;width:0;height:46%;content:"";color:#666;width:100%}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]:not(:first-child){margin-left:12px}li[_ngcontent-%COMP%]:not(:first-child):before{padding-right:12px;content:"/";font-weight:300}a[_ngcontent-%COMP%]{color:#999;text-decoration:none}a.active[_ngcontent-%COMP%]{color:#fff}']}),_),pathMatch:"full"}],Y=((x=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ib({type:x}),x.\u0275inj=s.Hb({factory:function(t){return new(t||x)},imports:[[o.c.forChild(D)],o.c]}),x),z=i("PCNd");i.d(e,"TaskModule",(function(){return S}));var I,S=((I=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ib({type:I}),I.\u0275inj=s.Hb({factory:function(t){return new(t||I)},imports:[[c.c,Y,z.a]]}),I)}}]);